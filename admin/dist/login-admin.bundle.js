/*! For license information please see login-admin.bundle.js.LICENSE.txt */
(()=>{"use strict";function t(){var n,r,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.toStringTag||"@@toStringTag";function c(t,o,i,u){var c=o&&o.prototype instanceof l?o:l,f=Object.create(c.prototype);return e(f,"_invoke",function(t,e,o){var i,u,c,l=0,f=o||[],s=!1,p={p:0,n:0,v:n,a:y,f:y.bind(n,4),d:function(t,e){return i=t,u=0,c=n,p.n=e,a}};function y(t,e){for(u=t,c=e,r=0;!s&&l&&!o&&r<f.length;r++){var o,i=f[r],y=p.p,d=i[2];t>3?(o=d===e)&&(u=i[4]||3,c=i[5]===n?i[3]:i[5],i[4]=3,i[5]=n):i[0]<=y&&((o=t<2&&y<i[1])?(u=0,p.v=e,p.n=i[1]):y<d&&(o=t<3||i[0]>e||e>d)&&(i[4]=t,i[5]=e,p.n=d,u=0))}if(o||t>1)return a;throw s=!0,e}return function(o,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&y(f,d),u=f,c=d;(r=u<2?n:c)||!s;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),r=i[o]){if(!(r=r.call(i,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,u<2&&(u=0)}else 1===u&&(r=i.return)&&r.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=n}else if((r=(s=p.n<0)?c:t.call(e,p))!==a)break}catch(t){i=n,u=1,c=t}finally{l=1}}return{value:r,done:s}}}(t,i,u),!0),f}var a={};function l(){}function f(){}function s(){}r=Object.getPrototypeOf;var p=[][i]?r(r([][i]())):(e(r={},i,(function(){return this})),r),y=s.prototype=l.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,e(t,u,"GeneratorFunction")),t.prototype=Object.create(y),t}return f.prototype=s,e(y,"constructor",s),e(s,"constructor",f),f.displayName="GeneratorFunction",e(s,u,"GeneratorFunction"),e(y),e(y,u,"Generator"),e(y,i,(function(){return this})),e(y,"toString",(function(){return"[object Generator]"})),(t=function(){return{w:c,m:d}})()}function e(t,n,r,o){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}e=function(t,n,r,o){if(n)i?i(t,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):t[n]=r;else{var u=function(n,r){e(t,n,(function(t){return this._invoke(n,r,t)}))};u("next",0),u("throw",1),u("return",2)}},e(t,n,r,o)}function n(t,e,n,r,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(r,o)}function r(){var e;return e=t().m((function e(n){var r;return t().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,fetch("".concat("http://47.129.222.75:3000/api","/login-admin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 1:return r=t.v,t.a(2,r.json())}}),e)})),r=function(){var t=this,r=arguments;return new Promise((function(o,i){var u=e.apply(t,r);function c(t){n(u,o,i,c,a,"next",t)}function a(t){n(u,o,i,c,a,"throw",t)}c(void 0)}))},r.apply(this,arguments)}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}function c(t){var e="function"==typeof Map?new Map:void 0;return c=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(a())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&l(o,n.prototype),o}(t,arguments,f(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,t)},c(t)}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(a=function(){return!!t})()}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=f(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(e,t),n=e,u=[{key:"connectedCallback",value:function(){this.mode="login",this.render()}},{key:"render",value:function(){var t=this,e="login"===this.mode;this.innerHTML='\n      <link rel="stylesheet" href="../styles/login.css">\n      <div class="container">\n        <div class="left"></div>\n        <div class="right">\n          <h2>'.concat(e?"SIGN IN":"REGISTER",'</h2>\n          <form id="auth-form">\n            <label>Username</label>\n            <input type="text" id="username" placeholder="Username" required />\n            <label>Password</label>\n            <input type="password" id="password" placeholder="Password" required />\n            <button type="submit">').concat(e?"SIGN IN":"REGISTER","</button>\n          </form>\n        </div>\n      </div>\n    "),this.querySelector("#auth-form").addEventListener("submit",this.handleAuth.bind(this)),this.querySelector("#toggle-mode").addEventListener("click",(function(n){n.preventDefault(),t.mode=e?"register":"login",t.render()}))}},{key:"handleAuth",value:function(t){t.preventDefault();var e=this.querySelector("#username").value,n=this.querySelector("#password").value;"login"===this.mode&&function(t){return r.apply(this,arguments)}({username:e,password:n}).then((function(t){console.log(t),t.accessToken?(localStorage.setItem("authToken",t.accessToken),localStorage.setItem("loggedInUser",e),alert("Login successful!"),window.location.href="index.html"):alert("Invalid username or password")})).catch((function(){return alert("Server error")}))}}],u&&i(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}(c(HTMLElement));customElements.define("auth-component",s)})();